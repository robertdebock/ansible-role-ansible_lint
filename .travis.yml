---
#
# Ansible managed
#
language: python

python:
  - "3.8"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="alpine" tag="latest"
    - image="alpine" tag="edge"
    - image="centos" tag="7"
    - image="centos" tag="latest"
    - image="debian" tag="latest"
    - image="debian" tag="bullseye"
    - image="fedora" tag="31"
    - image="fedora" tag="latest"
    - image="opensuse" tag="latest"
    - image="ubuntu" tag="latest"
    - image="ubuntu" tag="bionic"
    - image="ubuntu" tag="xenial"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - n=0 ; until [ "$n" = 3 ] ; do tox --parallel all && break ; n=$((n+1)) ; done

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack: "KHCt2dZiAXjvEkQGbLXf76Xe7DDvLeN6KD+Oo2v3lU4U1B64Zu68yxflf1vjqp0pu5Lf3RJWcXl7YfxQ1Y3Oxqj8mRaAkvfnspQqHapR3kOrfTb/NV/437s5t8eQYdl3h2KDbPK6qyPcV3zAyLSiXmB2s0fnaem+lqcr14xQK39UG7gozKBbyUr8ec3j4BWTkH7tvICBIZr9ZQErloF8Zqb8QCKX+jEfdWL5xKjI39Zh7WI97WuyGNHUQTRsOb1H9ZPB3LYXTrvAgApUWBYJILbAWeaJGhdkwH77JydRNY5oif++kymfEXmQf6YIqMa6dDTcuUVP1gJcnGhcqMjpIPtqBV8eI7l+Z4C6Cn1KkxwEL7+OgGlFLZdCrCZB2tinWkISZK9Gtnm08K4hIanABROYeFjSgIftoGv2ZxoU+ci1wnBBFAJnQ2az7nlbSaKJQaiVDJJVk9FebManbmZTm5e35RmdOfECh3Adu4GyVj1RItOZgJzv2Mt7BQr07T4F8d+kD7JtyJVIanL5GHolDt8cOFQLH91EoHPAdAOIZBVhMACXVlyfClvFXg12cZoz8O41uEkWrVE+YVpBe/PvG5e9KOFiYxbd/6AQCpgRzE3IROX/R8EUxKASi/PS5VbPkmum5Dv6paKqwFjTvYOyiCjzeMAWVLFFL48k37MpCJI="
  email: false
